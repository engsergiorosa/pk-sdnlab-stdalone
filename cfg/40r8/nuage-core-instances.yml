servers: 
  - { hostname: "ns1.{{ lab_domain }}",
      description: "name, ntp server" ,
      inventory: nserver ,
      memory: 4194304 ,
      vcpu_num: 2 ,
      disk_GB: 20 ,
      image_qcow2: /home/dev/images/centos7.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/centos7-20170509-reverse.qcow2" ,
      hypervisor: core,
      ansible_host: 'centos@core:2012' ,
      gateway: "{{ lab_network }}.1",
      ntpservers: local , 
      nameservers: [ 8.8.8.8 , 8.8.4.4 ] ,
      interfaces: [
        { name: eth0 , bridge: core, ip: "{{ lab_network }}.12" , netmask: 255.255.255.0 },
        { name: eth1 , bridge: wan, ip: 10.250.250.2 , netmask: 255.255.255.0 },
        { name: eth2 , bridge: inet, ip: 80.80.80.2 , netmask: 255.255.255.0 }
      ] ,
      pat_rules: [
        { protocol: tcp , port: 53 , dest_port: 53 },
        { protocol: udp , port: 53 , dest_port: 53 },
        { protocol: udp , port: 123 , dest_port: 123 }
      ]
     }
  - { hostname: "vsd1.{{ lab_domain }}",
      description: "Nuage Stand-Alone VSD, management plane" ,
      inventory: vsd ,
      Is_NM_enabled: true ,
      memory: 25165824 ,
      vcpu_num: 8 ,
      image_qcow2: /home/dev/images/vsd40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/vsd40r8.qcow2" ,
      hypervisor: core,
      ansible_host: 'root@core:2020' ,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: eth0 ,
        bridge: core,
        ip: "{{ lab_network }}.20" ,
        netmask: 255.255.255.0 }
      ], 
      pat_rules: [
        { protocol: tcp , port: 8443 , dest_port: 8443 },
        { protocol: tcp , port: 5222 , dest_port: 5222 },
        { protocol: tcp , port: 61613 , dest_port: 61613 },
        { protocol: tcp , port: 61614 , dest_port: 61614 },
        { protocol: tcp , port: 7443 , dest_port: 7443 },
        { protocol: tcp , port: 39090, dest_port: 39090  }
      ]      
     }
  - { hostname: "util.{{ lab_domain }}",
      description: "Util server for Nuage VNS" ,
      inventory: util ,
      Is_NM_enabled: true ,
      No_cloud_init: true ,
      Guestfish: true ,
      memory: 4194304 ,
      vcpu_num: 2 ,
      image_qcow2: /home/dev/images/util40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/util40r8.qcow2" ,
      hypervisor: core,
      ansible_host: 'root@core:2023' ,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: eth0 ,
        bridge: core,
        ip: "{{ lab_network }}.23" ,
        netmask: 255.255.255.0 }
      ],      
      pat_rules: [
        { protocol: tcp , port: 11443 , dest_port: 11443 },
        { protocol: tcp , port: 12443 , dest_port: 12443 },
        { protocol: tcp , port: 514 , dest_port: 514 },
        { protocol: tcp , port: 443 , dest_port: 443 },
        { protocol: tcp , port: 29090, dest_port: 29090  }
      ]      
     }
  - { hostname: "stat.{{ lab_domain }}",
      description: "Stat server based on ElasticSearch" ,
      inventory: stat ,
      Is_NM_enabled: true ,
      No_cloud_init: true ,
      Guestfish: true ,
      memory: 16777216 ,
      vcpu_num: 8 ,
      image_qcow2: /home/dev/images/stat40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/stat40r8.qcow2" ,
      hypervisor: core ,
      ansible_host: 'root@core:2024' ,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: eth0 ,
        bridge: core,
        ip: "{{ lab_network }}.24" ,
        netmask: 255.255.255.0 }
      ],
      pat_rules: [
        { protocol: tcp , port: 6200 , dest_port: 6200 },
        { protocol: tcp , port: 5601 , dest_port: 5601 },
      ]      
     }
  - { hostname: "head1.{{ lab_domain }}",
      description: "NSG-v Head End at Datacenter" ,
      inventory: nsg ,
      No_cloud_init: true ,
      rtl8139: true ,
      memory: 4194304 ,
      vcpu_num: 2 ,
      image_qcow2: /home/dev/images/nsg40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/nsg40r8.qcow2" ,
      hypervisor: core ,
      interfaces: [
      { name: port1 ,
        bridge: wan },
      { name: port2 ,
        bridge: inet },
      { name: port3 ,
        bridge: core }
#          ],      
#          pat_rules: [
#            { protocol: udp , port: 4789 , dest_port: 4789 },
#            { protocol: udp , port: 4500 , dest_port: 4500 },
#            { protocol: udp , port: 500 , dest_port: 500 },
#            { protocol: tcp , port: 179 , dest_port: 179 },
      ]      
     }
  - { hostname: "head2.{{ lab_domain }}",
      description: "NSG-v Head End at Datacenter" ,
      inventory: nsg ,
      No_cloud_init: true ,
      rtl8139: true ,
      memory: 4194304 ,
      vcpu_num: 2 ,
      image_qcow2: /home/dev/images/nsg40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/nsg40r8.qcow2" ,
      hypervisor: core ,
      interfaces: [
      { name: port1 ,
        bridge: wan },
      { name: port2 ,
        bridge: inet },
      { name: port3 ,
        bridge: core }
      ]      
     }
  - { hostname: "border.{{ lab_domain }}",
      description: "NSG-v Head End at Datacenter" ,
      inventory: nsg ,
      No_cloud_init: true ,
      rtl8139: true ,
      memory: 4194304 ,
      vcpu_num: 2 ,
      image_qcow2: /home/dev/images/nsg40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/nsg40r8.qcow2" ,
      hypervisor: core ,
      interfaces: [
      { name: port1 ,
        bridge: wan },
      { name: port2 ,
        bridge: inet },
      { name: port3 ,
        bridge: core }
      ]      
     }
  - { hostname: "nsg-branch1-1.{{ lab_domain }}",
      description: "NSG-v at Branch 1" ,
      inventory: nsg ,
      No_cloud_init: true ,
      rtl8139: true ,
      memory: 4194304 ,
      vcpu_num: 2 ,
      image_qcow2: /home/dev/images/nsg40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/nsg40r8.qcow2" ,
      hypervisor: core ,
      interfaces: [
      { name: port1 ,
        bridge: wan },
      { name: port2 ,
        bridge: inet },
      { name: port3 ,
        bridge: branch1 },
      { name: port4 ,
        bridge: branch1 },
      { name: port5 ,
        bridge: branch1 },
      { name: port6 ,
        bridge: branch1 }
      ]      
     }
  - { hostname: "nsg-branch1-2.{{ lab_domain }}",
      description: "NSG-v at Branch 1" ,
      inventory: nsg ,
      No_cloud_init: true ,
      rtl8139: true ,
      memory: 4194304 ,
      vcpu_num: 2 ,
      image_qcow2: /home/dev/images/nsg40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/nsg40r8.qcow2" ,
      hypervisor: core ,
      interfaces: [
      { name: port1 ,
        bridge: wan },
      { name: port2 ,
        bridge: inet },
      { name: port3 ,
        bridge: branch1 },
      { name: port4 ,
        bridge: branch1 },
      { name: port5 ,
        bridge: branch1 },
      { name: port6 ,
        bridge: branch1 }
      ]      
     }
  - { hostname: "nsg-branch2-1.{{ lab_domain }}",
      description: "NSG-v at Branch 2" ,
      inventory: nsg ,
      No_cloud_init: true ,
      rtl8139: true ,
      memory: 4194304 ,
      vcpu_num: 2 ,
      image_qcow2: /home/dev/images/nsg40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/nsg40r8.qcow2" ,
      hypervisor: core ,
      interfaces: [
      { name: port1 ,
        bridge: wan },
      { name: port2 ,
        bridge: inet },
      { name: port3 ,
        bridge: branch2 },
      { name: port4 ,
        bridge: branch2 },
      { name: port5 ,
        bridge: branch2 },
      { name: port6 ,
        bridge: branch2 }
      ]      
     }
  - { hostname: "nsg-branch2-2.{{ lab_domain }}",
      description: "NSG-v at Branch 2" ,
      inventory: nsg ,
      No_cloud_init: true ,
      rtl8139: true ,
      memory: 4194304 ,
      vcpu_num: 2 ,
      image_qcow2: /home/dev/images/nsg40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/nsg40r8.qcow2" ,
      hypervisor: core ,
      interfaces: [
      { name: port1 ,
        bridge: wan },
      { name: port2 ,
        bridge: inet },
      { name: port3 ,
        bridge: branch2 },
      { name: port4 ,
        bridge: branch2 },
      { name: port5 ,
        bridge: branch2 },
      { name: port6 ,
        bridge: branch2 }
      ]      
     }
  - { hostname: "cli1.{{ lab_domain }}",
      description: "client at branch1" ,
      inventory: client ,
      No_cloud_init: true ,
      memory: 4194304 ,
      vcpu_num: 2 ,
      image_qcow2: /home/dev/images/ubuntu.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/ubuntu.qcow2" ,
      hypervisor: core ,
      interfaces: [
      { name: eth0 ,
        bridge: branch1 }
      ]
     }
  - { hostname: "cli2.{{ lab_domain }}",
      description: "client at branch2" ,
      inventory: client ,
      No_cloud_init: true ,
      memory: 4194304 ,
      vcpu_num: 2 ,
      image_qcow2: /home/dev/images/ubuntu.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/ubuntu.qcow2" ,
      hypervisor: core ,
      interfaces: [
      { name: eth0 ,
        bridge: branch2 }
      ]
     }
  - { hostname: "virt.{{ lab_domain }}",
      description: "webvirtmgr service" ,
      inventory: webvirtmgr ,
      memory: 4194304 ,
      vcpu_num: 2 ,
      disk_GB: 20 ,
      image_qcow2: /home/dev/images/centos7.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/centos7-20170509-reverse.qcow2" ,
      hypervisor: core ,
      ansible_host: 'centos@core:2030' ,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: eth0 ,
        bridge: core,
        ip: "{{ lab_network }}.28" ,
        netmask: 255.255.255.0 }
      ],
      pat_rules: [
        { protocol: tcp , port: 8090 , dest_port: 8090 },
        { protocol: tcp , port: 6080 , dest_port: 6080 }
      ]
     }
  - { hostname: "docker.{{ lab_domain }}",
      description: "Docker Server" ,
      inventory: docker ,
      memory: 8388608 ,
      vcpu_num: 4 ,
      disk_GB: 20 ,
      image_qcow2: /home/dev/images/centos7.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/centos7-20170509-reverse.qcow2" ,
      hypervisor: core ,
      ansible_host: 'centos@core:2029' ,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: eth0 ,
        bridge: core,
        ip: "{{ lab_network }}.29" ,
        netmask: 255.255.255.0 }
      ],
      pat_rules: [
      ]
     }
  - { hostname: "k8s-master.{{ lab_domain }}",
      description: "Kubernetes Master Server" ,
      inventory: kubernetes ,
      memory: 8388608 ,
      vcpu_num: 4 ,
      disk_GB: 20 ,
      image_qcow2: /home/dev/images/centos7.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/centos7-20170509-reverse.qcow2" ,
      hypervisor: core ,
      ansible_host: 'centos@core:2015' ,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: eth0 ,
        bridge: core,
        ip: "{{ lab_network }}.15" ,
        netmask: 255.255.255.0 }
      ],
      pat_rules: [
      ]
     }
  - { hostname: "k8s-node1.{{ lab_domain }}",
      description: "Kubernetes Node Server" ,
      inventory: kubernetes ,
      memory: 8388608 ,
      vcpu_num: 4 ,
      disk_GB: 20 ,
      image_qcow2: /home/dev/images/centos7.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/centos7-20170509-reverse.qcow2" ,
      hypervisor: core ,
      ansible_host: 'centos@core:2016' ,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: eth0 ,
        bridge: core,
        ip: "{{ lab_network }}.16" ,
        netmask: 255.255.255.0 }
      ],
      pat_rules: [
      ]
     }
  - { hostname: "k8s-node2.{{ lab_domain }}",
      description: "Kubernetes Node Server" ,
      inventory: kubernetes ,
      memory: 8388608 ,
      vcpu_num: 4 ,
      disk_GB: 20 ,
      image_qcow2: /home/dev/images/centos7.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/centos7-20170509-reverse.qcow2" ,
      hypervisor: core ,
      ansible_host: 'centos@core:2017' ,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: eth0 ,
        bridge: core,
        ip: "{{ lab_network }}.17" ,
        netmask: 255.255.255.0 }
      ],
      pat_rules: [
      ]
     }
  - { hostname: "k8s-node3.{{ lab_domain }}",
      description: "Kubernetes Node Server" ,
      inventory: kubernetes ,
      memory: 8388608 ,
      vcpu_num: 4 ,
      disk_GB: 20 ,
      image_qcow2: /home/dev/images/centos7.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/centos7-20170509-reverse.qcow2" ,
      hypervisor: core ,
      ansible_host: 'centos@core:2018' ,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: eth0 ,
        bridge: core,
        ip: "{{ lab_network }}.18" ,
        netmask: 255.255.255.0 }
      ],
      pat_rules: [
      ]
     }
  - { hostname: "k8s-node4.{{ lab_domain }}",
      description: "Kubernetes Node Server" ,
      inventory: kubernetes ,
      memory: 8388608 ,
      vcpu_num: 4 ,
      disk_GB: 20 ,
      image_qcow2: /home/dev/images/centos7.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/centos7-20170509-reverse.qcow2" ,
      hypervisor: core ,
      ansible_host: 'centos@core:2019' ,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: eth0 ,
        bridge: core,
        ip: "{{ lab_network }}.19" ,
        netmask: 255.255.255.0 }
      ],
      pat_rules: [
      ]
     }
vsc_controllers:
  - { hostname: "vsc1.{{ lab_domain }}",
      description: "Nuage VSC - SDN controller" ,
      inventory: vsc ,
      image_qcow2: /home/dev/images/vsc40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/vsc40r8.qcow2" ,
      hypervisor: core ,
      vsc_cert_name: vsc1nsg ,
      vsc_passwd: admin ,
      ansible_host: 'root@core:2031' ,
      vsd_fqdn: "vsd1.{{ lab_domain }}",
      system_ip: 1.1.1.1,
      xmpp_username: vsc01,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: bof ,
        bridge: core },
      { name: control ,
        bridge: core,
        ip: "{{ lab_network }}.31" ,
        prefix: 24 }
      ],
      static_routes: [
        "0.0.0.0/0 next-hop {{ lab_network }}.1" 
      ],
      pat_rules: [
        { protocol: tcp , port: 56213 , dest_port: 56213 },
        { protocol: tcp , port: 6633 , dest_port: 6633 },
        { protocol: udp , port: 123 , dest_port: 123 },
        { protocol: tcp , port: 7407 , dest_port: 7407 },
      ]      
    }      
  - { hostname: "vsc2.{{ lab_domain }}",
      description: "Nuage VSC - SDN controller" ,
      inventory: vsc ,
      image_qcow2: /home/dev/images/vsc40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/vsc40r8.qcow2" ,
      hypervisor: core ,
      vsc_cert_name: vsc2nsg ,
      vsc_passwd: admin ,
      ansible_host: 'root@core:2032' ,
      vsd_fqdn: "vsd1.{{ lab_domain }}",
      system_ip: 1.1.1.2 ,
      xmpp_username: vsc02,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: bof ,
        bridge: core },
      { name: control ,
        bridge: core,
        ip: "{{ lab_network }}.32" ,
        prefix: 24 }
      ],      
      static_routes: [
        "0.0.0.0/0 next-hop {{ lab_network }}.1" 
      ],
      pat_rules: [
      ]
     }
  - { hostname: "vsc3.{{ lab_domain }}",
      description: "Nuage VSC - SDN controller" ,
      inventory: vsc ,
      image_qcow2: /home/dev/images/vsc40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/vsc40r8.qcow2" ,
      hypervisor: core ,
#          vsc_cert_name: vsc3nsg , # no TLS profile required
      vsc_passwd: admin ,
      ansible_host: 'root@core:2033' ,
      vsd_fqdn: "vsd1.{{ lab_domain }}",
      system_ip: 1.1.1.3,
      xmpp_username: vsc03,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: bof ,
        bridge: core },
      { name: control ,
        bridge: core,
        ip: "{{ lab_network }}.33" ,
        prefix: 24 }
      ],
      static_routes: [
        "0.0.0.0/0 next-hop {{ lab_network }}.1" 
      ],
      pat_rules: [
      ]      
    }      
  - { hostname: "vsc4.{{ lab_domain }}",
      description: "Nuage VSC - SDN controller" ,
      inventory: vsc ,
      image_qcow2: /home/dev/images/vsc40r8.qcow2 ,
      image_url: "https://s3-us-west-2.amazonaws.com/nuage-demo-cala/40r8+files/vsc40r8.qcow2" ,
      hypervisor: core ,
#          vsc_cert_name: vsc4nsg , # no TLS profile required
      vsc_passwd: admin ,
      ansible_host: 'root@core:2034' ,
      vsd_fqdn: "vsd1.{{ lab_domain }}",
      system_ip: 1.1.1.4,
      xmpp_username: vsc04,
      gateway: "{{ lab_network }}.1",
      interfaces: [
      { name: bof ,
        bridge: core },
      { name: control ,
        bridge: core,
        ip: "{{ lab_network }}.34" ,
        prefix: 24 }
      ],
      static_routes: [
        "0.0.0.0/0 next-hop {{ lab_network }}.1" 
      ],
      pat_rules: [
      ]      
    }      
